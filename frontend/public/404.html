<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Get the current location path
    const fullPath = window.location.pathname;
    const basePath = '/todo-app/';
    
    // Only proceed with redirect if this isn't already the base path
    if (fullPath !== basePath && fullPath !== basePath.slice(0, -1)) {
      // Extract the path from URL, accounting for the GitHub Pages base path
      const path = fullPath.replace(basePath, '');
      
      // Only store non-empty paths to avoid loops
      if (path && path !== '') {
        // Store the path in sessionStorage for the main app to use
        sessionStorage.setItem('redirect', path);
        console.log('Storing redirect path:', path);
      }
      
      // Redirect to the main app entry point
      window.location.href = basePath;
    } else {
      // If we're already at the base path, just go to the index
      window.location.href = basePath;
    }
  </script>
</head>
<body>
  <p>Redirecting to requested page...</p>
</body>
</html> 